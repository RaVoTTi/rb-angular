"use strict";(self.webpackChunkcustomer=self.webpackChunkcustomer||[]).push([[676],{1676:(S,p,o)=>{o.r(p),o.d(p,{MyOrdersModule:()=>u});var i=o(6895),l=o(5467),h=o(5698),t=o(4650),m=o(3629),A=o(529);class d{constructor(r){this.http=r,this.API_URL=m.N.API_URL}getMyOrders(){return this.http.get(`${this.API_URL}/myorder`)}getMyOrderById(r){return this.http.get(`${this.API_URL}/myorder/${r}`)}static#t=this.\u0275fac=function(e){return new(e||d)(t.LFG(A.eN))};static#e=this.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"})}var f=o(1743),g=o(3470);function U(n,r){1&n&&(t.TgZ(0,"th"),t._uU(1,"Date"),t.qZA())}function T(n,r){if(1&n&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.dateCreated))}}const y=function(n){return["/app/myorders/id/",n]};function v(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td")(2,"a",8),t._uU(3),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.YNc(7,T,3,3,"td",4),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"titlecase"),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"currency"),t.qZA()()),2&n){const e=r.$implicit,s=t.oxw(2);t.xp6(2),t.Q6J("routerLink",t.VKq(12,y,e._id)),t.xp6(1),t.hij("",e._id.slice(-10)," "),t.xp6(2),t.Oqu(t.lcZ(6,6,e.book.name)),t.xp6(2),t.Q6J("ngIf",s.screenWidth>700),t.xp6(2),t.hij("",t.lcZ(10,8,e.condition)," "),t.xp6(3),t.Oqu(t.lcZ(13,10,e.price))}}function O(n,r){if(1&n&&(t.TgZ(0,"div",5)(1,"table",6)(2,"thead")(3,"tr")(4,"th"),t._uU(5,"Order id"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Name"),t.qZA(),t.YNc(8,U,2,0,"th",4),t.TgZ(9,"th"),t._uU(10,"Condition"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Price"),t.qZA()()(),t.TgZ(13,"tbody"),t.YNc(14,v,14,14,"tr",7),t.qZA()()()),2&n){const e=t.oxw();t.xp6(8),t.Q6J("ngIf",e.screenWidth>700),t.xp6(6),t.Q6J("ngForOf",e.orders)}}function _(n,r){1&n&&t._UZ(0,"frontend-spinner")}class a{constructor(r){this.myOrdersService=r}ngOnInit(){this.myOrdersService.getMyOrders().pipe((0,h.q)(1)).subscribe(({result:r})=>{r&&(this.orders=r)})}onWindowResize(){this.screenWidth=window.innerWidth}static#t=this.\u0275fac=function(e){return new(e||a)(t.Y36(d))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["frontend-my-orders-list"]],hostBindings:function(e,s){1&e&&t.NdJ("resize",function(M){return s.onWindowResize(M)},!1,t.Jf7)},decls:5,vars:2,consts:[["title","Orders"],[1,"order"],[1,"container-fluid"],["class","order-table",4,"ngIf"],[4,"ngIf"],[1,"order-table"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,s){1&e&&(t._UZ(0,"frontend-sub-nav",0),t.TgZ(1,"section",1)(2,"div",2),t.YNc(3,O,15,2,"div",3),t.YNc(4,_,1,0,"frontend-spinner",4),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("ngIf",s.orders),t.xp6(1),t.Q6J("ngIf",!s.orders))},dependencies:[i.sg,i.O5,f.O,g.A,l.rH,i.rS,i.H9,i.uU],encapsulation:2})}function q(n,r){if(1&n&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t._UZ(3,"img",8),t.qZA(),t.TgZ(4,"div",9)(5,"div",10)(6,"table",11)(7,"tbody")(8,"tr")(9,"td"),t._uU(10,"ROBIN BOOK LLC"),t.qZA()(),t.TgZ(11,"tr")(12,"td"),t._uU(13,"Casper, WY 82601, US"),t.qZA()(),t.TgZ(14,"tr")(15,"td"),t._uU(16,"www.robinboook.com "),t.qZA()()()()(),t.TgZ(17,"div",10)(18,"table",11)(19,"tbody")(20,"tr")(21,"th"),t._uU(22,"Date:"),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.ALo(25,"date"),t.qZA()(),t.TgZ(26,"tr")(27,"th"),t._uU(28,"Order#:"),t.qZA(),t.TgZ(29,"td"),t._uU(30),t.qZA()(),t.TgZ(31,"tr")(32,"th"),t._uU(33,"Sold To:"),t.qZA(),t.TgZ(34,"td"),t._uU(35),t.ALo(36,"titlecase"),t.ALo(37,"titlecase"),t.qZA()()()()()(),t._UZ(38,"hr",12),t.TgZ(39,"table",13)(40,"thead")(41,"tr")(42,"th"),t._uU(43,"Item "),t.qZA(),t.TgZ(44,"th"),t._uU(45,"Ordered"),t.qZA(),t.TgZ(46,"th",14),t._uU(47,"Quantity"),t.qZA(),t.TgZ(48,"th"),t._uU(49,"Price"),t.qZA(),t.TgZ(50,"th"),t._uU(51,"Amount"),t.qZA()()(),t.TgZ(52,"tbody")(53,"tr")(54,"td"),t._uU(55),t.ALo(56,"titlecase"),t.qZA(),t.TgZ(57,"td"),t._uU(58),t.ALo(59,"date"),t.qZA(),t.TgZ(60,"td",14),t._uU(61,"1"),t.qZA(),t.TgZ(62,"td"),t._uU(63),t.ALo(64,"currency"),t.qZA(),t.TgZ(65,"td"),t._uU(66),t.ALo(67,"currency"),t.qZA()(),t.TgZ(68,"tr"),t._UZ(69,"th",15)(70,"th",16),t.TgZ(71,"th"),t._uU(72,"Delivery"),t.qZA(),t.TgZ(73,"th"),t._uU(74),t.ALo(75,"currency"),t.qZA()(),t.TgZ(76,"tr"),t._UZ(77,"th",15)(78,"th",16),t.TgZ(79,"th"),t._uU(80,"Discount"),t.qZA(),t.TgZ(81,"th"),t._uU(82),t.ALo(83,"currency"),t.qZA()(),t.TgZ(84,"tr",17),t._UZ(85,"th",15)(86,"th",16),t.TgZ(87,"th"),t._uU(88,"Total Paid"),t.qZA(),t.TgZ(89,"th"),t._uU(90),t.ALo(91,"currency"),t.qZA()()()()()()),2&n){const e=t.oxw();t.xp6(24),t.Oqu(t.lcZ(25,11,e.order.dateCreated)),t.xp6(6),t.Oqu(e.order._id),t.xp6(5),t.AsE("",t.lcZ(36,13,e.order.user.lastName),", ",t.lcZ(37,15,e.order.user.name),""),t.xp6(20),t.hij("",t.lcZ(56,17,e.order.book.name)," (Summarized)"),t.xp6(3),t.Oqu(t.lcZ(59,19,e.order.dateCreated)),t.xp6(5),t.hij("US",t.lcZ(64,21,e.order.price)," "),t.xp6(3),t.hij("US",t.lcZ(67,23,e.order.price)," "),t.xp6(8),t.hij("US",t.lcZ(75,25,0)," "),t.xp6(8),t.hij("US",t.lcZ(83,27,0)," "),t.xp6(8),t.hij("US",t.lcZ(91,29,e.order.price)," ")}}function x(n,r){1&n&&t._UZ(0,"frontend-spinner")}class Z{constructor(r,e){this.route=r,this.myOrdersService=e}reload(){this.route.params.subscribe(r=>{r.id&&(this.orderId=r.id)}),this.myOrdersService.getMyOrderById(this.orderId).pipe((0,h.q)(1)).subscribe(({result:r})=>{r&&(this.order=r)})}ngOnInit(){this.reload()}static#t=this.\u0275fac=function(e){return new(e||Z)(t.Y36(l.gz),t.Y36(d))};static#e=this.\u0275cmp=t.Xpm({type:Z,selectors:[["frontend-my-order-view"]],decls:5,vars:2,consts:[["title","Receipt"],[1,"order"],[1,"container-fluid"],["class","order-table",4,"ngIf"],[4,"ngIf"],[1,"order-table"],[1,"d-flex","flex-column"],[1,"col-6","col-md-4","mt-2"],["src","assets/img/logo-header.svg"],[1,"row","mt-2","p-2"],[1,"col-md-6"],[1,"table","table-borderless"],[1,"m-3"],[1,"table","table-striped"],[1,"d-md-table-cell","d-none"],["colspan","3",1,"d-md-table-cell","d-none"],["colspan","2",1,"d-table-cell","d-md-none"],[1,"table-success"]],template:function(e,s){1&e&&(t._UZ(0,"frontend-sub-nav",0),t.TgZ(1,"section",1)(2,"div",2),t.YNc(3,q,92,31,"div",3),t.YNc(4,x,1,0,"frontend-spinner",4),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("ngIf",s.order),t.xp6(1),t.Q6J("ngIf",!s.order))},dependencies:[i.O5,f.O,g.A,i.rS,i.H9,i.uU],encapsulation:2})}var L=o(9646);class c{resolve(r,e){return(0,L.of)(!0)}static#t=this.\u0275fac=function(e){return new(e||c)};static#e=this.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}var b=o(5780),I=o(5931);const C=[{path:"",component:a,resolve:{myOrders:c}},{path:"id/:id",component:Z,resolve:{books:b.Kt,myOrders:c}}];class u{static#t=this.\u0275fac=function(e){return new(e||u)};static#e=this.\u0275mod=t.oAB({type:u});static#r=this.\u0275inj=t.cJS({imports:[i.ez,I.As,l.Bz.forChild(C)]})}}}]);