"use strict";(self.webpackChunkcustomer=self.webpackChunkcustomer||[]).push([[627],{4627:(en,m,r)=>{r.r(m),r.d(m,{MyLearningModule:()=>nn});var c=r(6895),F=r(2490),a=r(9653),b=r(5698),U=r(4629);const f=(0,a.PH)("[Learnings Resolver] Load All Learnings"),h=(0,a.PH)("[Load Learnings Effect] All Learnings Loaded",(0,a.Ky)()),d=(0,U.H)({selectId:e=>e._id}),Y=d.getInitialState({}),k=(0,a.Lq)(Y,(0,a.on)(h,(e,i)=>d.setAll(i.myLearnings,{...e,allMyLearningsLoaded:!0}))),{selectAll:I,selectEntities:T}=d.getSelectors(),y=(0,a.ZF)("myLearnings"),v=(0,a.P1)(y,I),P=(0,a.P1)(v,e=>e.length),R=(0,a.P1)(y,e=>e.allMyLearningsLoaded),$=(0,a.P1)(y,T);var n=r(4650),l=r(5467),M=r(3629);const H=function(e){return["/app/mylearning/id/",e]},z=function(e){return["/app/mylearning/myevaluation/",e]};let J=(()=>{class e{constructor(){this.RAW_URL=M.N.RAW_URL}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["frontend-card-learning"]],inputs:{learning:"learning",book:"book"},decls:13,vars:12,consts:[[1,"card-book"],[1,"card-container",3,"routerLink"],[1,"upper-container"],[1,"image",3,"src","alt"],[1,"line"],[1,"lower-container"],[1,"toolbar-price"],["title","Claim",1,"toolbar-button",3,"routerLink"],[1,"pi","pi-dollar"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2),n._UZ(3,"img",3),n.qZA(),n._UZ(4,"div",4),n.TgZ(5,"div",5)(6,"h2"),n._uU(7),n.qZA()()(),n.TgZ(8,"span",6),n._uU(9),n.ALo(10,"currency"),n.qZA(),n.TgZ(11,"button",7),n._UZ(12,"i",8),n.qZA()()),2&t&&(n.xp6(1),n.Q6J("routerLink",n.VKq(8,H,o.learning._id)),n.xp6(2),n.Q6J("src",null==o.book?null:o.book.image,n.LSH)("alt",null==o.book?null:o.book.image),n.xp6(4),n.Oqu(null==o.book?null:o.book.name),n.xp6(2),n.hij(" ",n.lcZ(10,6,o.learning.price),""),n.xp6(2),n.Q6J("routerLink",n.VKq(10,z,o.learning._id)))},dependencies:[l.rH,c.H9],encapsulation:2}),e})();function x(e,i){if(1&e&&n._UZ(0,"frontend-card-learning",3),2&e){const t=i.$implicit,o=n.oxw(2);n.Q6J("learning",t)("book",o.book(t.book._id))}}function O(e,i){if(1&e&&(n.TgZ(0,"div",1),n.YNc(1,x,1,2,"frontend-card-learning",2),n.ALo(2,"async"),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",n.lcZ(2,1,t.allMyLearnings$))}}let Q=(()=>{class e{constructor(t,o,s){this.router=t,this.route=o,this.store=s}ngOnInit(){this.route.queryParams.subscribe(t=>{}),this.reload()}reload(){this.allMyLearnings$=this.store.pipe((0,a.Ys)(v)),this.countMyLearnings$=this.store.pipe((0,a.Ys)(P))}book(t){let o;return this.store.pipe((0,a.Ys)((0,F.NK)(t)),(0,b.q)(1)).subscribe(s=>o=s),o}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(l.F0),n.Y36(l.gz),n.Y36(a.yh))},e.\u0275cmp=n.Xpm({type:e,selectors:[["frontend-my-learning-list"]],decls:1,vars:1,consts:[["class","list-container",4,"ngIf"],[1,"list-container"],[3,"learning","book",4,"ngFor","ngForOf"],[3,"learning","book"]],template:function(t,o){1&t&&n.YNc(0,O,3,3,"div",0),2&t&&n.Q6J("ngIf",o.allMyLearnings$)},dependencies:[c.sg,c.O5,J,c.Ov],encapsulation:2}),e})(),E=(()=>{class e{constructor(t,o,s,L){this.route=t,this.location=o,this.store=s,this.router=L,this.route.params.subscribe(u=>{u.id?this.store.pipe((0,a.Ys)((e=>(0,a.P1)($,i=>i[e]))(u.id))).subscribe(C=>{C?this.learning=C:this.router.navigate(["/app/mylearning"])}):this.router.navigate(["/app/mylearning"])})}evaluation(){this.router.navigate([`/app/mylearning/${this.learning._id}/myevaluation`])}back(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(l.gz),n.Y36(c.Ye),n.Y36(a.yh),n.Y36(l.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["frontend-my-learning-view"]],decls:10,vars:2,consts:[[1,"content-container"],[1,"learning-header"],["routerLink","/app/mylearning"],[1,"pi","pi-angle-left"],[1,"card-content"],[3,"innerHTML"]],template:function(t,o){1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2),n._UZ(3,"i",3),n.TgZ(4,"span"),n._uU(5," Back to My Learning"),n.qZA()()(),n.TgZ(6,"div",4)(7,"h2"),n._uU(8),n.qZA(),n._UZ(9,"div",5),n.qZA()()),2&t&&(n.xp6(8),n.Oqu(o.learning.book.name),n.xp6(1),n.s9C("innerHTML",o.learning.book.content,n.oJD))},dependencies:[l.rH],encapsulation:2}),e})();var G=r(529);let A=(()=>{class e{constructor(t){this.http=t,this.API_URL=M.N.API_URL}getMyLearnings(){return this.http.get(`${this.API_URL}/mylearning`)}patchMyLearning(t){return this.http.patch(`${this.API_URL}/mylearning/${t}`,{})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(G.eN))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var K=r(8505),N=r(9300),V=r(590),B=r(8746);let p=(()=>{class e{constructor(t){this.store=t,this.loading=!1}resolve(t,o){return this.store.pipe((0,a.Ys)(R),(0,K.b)(s=>{!this.loading&&!s&&(this.loading=!0,this.store.dispatch(f()))}),(0,N.h)(s=>s),(0,V.P)(),(0,B.x)(()=>this.loading=!1))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(a.yh))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var g=r(2655),X=r(4351),W=r(4004);let j=(()=>{class e{constructor(t,o,s){this.store=t,this.actions$=o,this.myLearningService=s,this.loadMyLearnings$=(0,g.GW)(()=>this.actions$.pipe((0,g.l4)(f),(0,X.b)(L=>this.myLearningService.getMyLearnings()),(0,W.U)(({result:L})=>h({myLearnings:L??[]}))))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(a.yh),n.LFG(g.eX),n.LFG(A))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var D=r(7967),w=r(8343),Z=r(8933),q=r(3013);const _=[{path:"",component:w.U,children:[{path:"",component:Q,resolve:{books:Z.K,myLearnings:p}},{path:"id/:id",component:E,resolve:{books:Z.K,orders:p}}]}];let nn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[A,p],imports:[c.ez,a.Aw.forFeature("myLearnings",k),g.sQ.forFeature([j]),l.Bz.forChild(_),D.As,q.U]}),e})()}}]);