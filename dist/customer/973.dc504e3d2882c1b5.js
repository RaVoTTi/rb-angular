"use strict";(self.webpackChunkcustomer=self.webpackChunkcustomer||[]).push([[973],{6973:(M,u,i)=>{i.r(u),i.d(u,{AuthUserModule:()=>U});var p=i(6895),a=i(5467),o=i(433),d=i(8505),c=i(9884),e=i(4650),g=i(2997),m=i(122);let f=(()=>{class r{constructor(t){this.elementRef=t,this._msg="This field is required",this._color="red",this.element=t}set errorMsg(t){t?(this._msg=t,this.setMsg(),this.element.nativeElement.classList.remove("hidden")):this.element.nativeElement.classList.add("hidden")}ngOnInit(){this.setClass(),this.setColor(),this.element.nativeElement.classList.add("hidden")}setMsg(){this.element.nativeElement.innerText=this._msg}setColor(){this.element.nativeElement.style.color=this._color}setClass(){this.element.nativeElement.style.fontSize=".8rem"}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq))},r.\u0275dir=e.lG2({type:r,selectors:[["","errorMsg",""]],inputs:{errorMsg:"errorMsg"}}),r})();function v(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"i"),e._uU(3,"\u{1f3f9}"),e.qZA(),e._uU(4," Enter your details below to continue "),e.qZA(),e.TgZ(5,"form",8)(6,"div",9)(7,"label",10),e._uU(8," Email"),e.qZA(),e._UZ(9,"input",11)(10,"small",12),e.qZA(),e.TgZ(11,"div",9)(12,"label",10),e._uU(13," Password"),e.qZA(),e._UZ(14,"input",13)(15,"small",12),e.qZA(),e.TgZ(16,"div",14)(17,"div",15),e._UZ(18,"input",16),e.TgZ(19,"label",17),e._uU(20," Remember Me "),e.qZA()(),e.TgZ(21,"a",18),e._uU(22," Forgot Password? "),e.qZA()(),e.TgZ(23,"div",19)(24,"div",20)(25,"button",21),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit())}),e._UZ(26,"span",22),e._uU(27," Start Now "),e.qZA()()(),e.TgZ(28,"div",23)(29,"span"),e._uU(30,"Don't have account"),e.qZA(),e.TgZ(31,"a",24),e._uU(32," Create account "),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.loginForm),e.xp6(5),e.Q6J("errorMsg",t.errorMsg("email")),e.xp6(5),e.Q6J("errorMsg",t.errorMsg("password")),e.xp6(10),e.Q6J("disabled",t.loginForm.invalid||t.loginForm.disabled)}}function Z(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"i"),e._uU(3,"\u{1f3f9}"),e.qZA(),e._uU(4," Fill the gaps and discover a great amount of new oppotunities! "),e.qZA(),e.TgZ(5,"form",25)(6,"div",9)(7,"label",10),e._uU(8," Name"),e.qZA(),e._UZ(9,"input",26)(10,"small",12),e.qZA(),e.TgZ(11,"div",9)(12,"label",10),e._uU(13," LastName"),e.qZA(),e._UZ(14,"input",27)(15,"small",12),e.qZA(),e.TgZ(16,"div",9)(17,"label",10),e._uU(18," Email"),e.qZA(),e._UZ(19,"input",11)(20,"small",12),e.qZA(),e.TgZ(21,"div",9)(22,"label",10),e._uU(23," Phone"),e.qZA(),e._UZ(24,"input",28)(25,"small",12),e.qZA(),e.TgZ(26,"div",9)(27,"label",10),e._uU(28," Password"),e.qZA(),e._UZ(29,"input",29)(30,"small",12),e.qZA(),e.TgZ(31,"div",9)(32,"label",10),e._uU(33,"Confirm Password"),e.qZA(),e._UZ(34,"input",30)(35,"small",12),e.qZA(),e.TgZ(36,"div",31),e._UZ(37,"input",32),e.TgZ(38,"label",17),e._uU(39," Accept "),e.TgZ(40,"a",33),e._uU(41,"Terms & Conditions"),e.qZA()()(),e.TgZ(42,"div",19)(43,"div",20)(44,"button",21),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.onSubmit())}),e._UZ(45,"span",22),e._uU(46," Create Account "),e.qZA()()(),e.TgZ(47,"div",34)(48,"div",20)(49,"span",35),e._uU(50,"Already have an account?"),e.qZA(),e.TgZ(51,"a",36)(52,"span",37),e._uU(53,"Login Now "),e.qZA()()()()()()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.signUpForm),e.xp6(5),e.Q6J("errorMsg",t.errorMsg("name")),e.xp6(5),e.Q6J("errorMsg",t.errorMsg("lastName")),e.xp6(5),e.Q6J("errorMsg",t.errorMsg("email")),e.xp6(5),e.Q6J("errorMsg",t.errorMsg("phone")),e.xp6(5),e.Q6J("errorMsg",t.errorMsg("password")),e.xp6(5),e.Q6J("errorMsg",t.errorMsg("password2")),e.xp6(9),e.Q6J("disabled",t.signUpForm.invalid||t.signUpForm.disabled)}}let h=(()=>{class r{constructor(t,l,s,b,x,w){this.router=t,this.formBuilder=l,this.authBaseService=s,this.store=b,this.errorH=x,this.vs=w,this.login=!0,this.login=!this.router.url.includes("signup")}ngOnInit(){this._initForm()}onSubmit(){this.login?(this.loginForm.disable(),this._login()):(this.signUpForm.disable(),this._postSignUp())}_login(){if(this.loginForm.invalid)return void this.loginForm.markAllAsTouched();const{email:t,password:l}=this.loginForm.value;this.authBaseService.postLogin({email:t,password:l}).pipe((0,d.b)(({token:s})=>{s&&(this.store.dispatch(c.uQ.login({token:s})),this.router.navigate(["/app"]))})).subscribe({error:({})=>{this.loginForm.enable()}})}_postSignUp(){this.signUpForm.invalid?this.signUpForm.markAllAsTouched():this.authBaseService.postSignUp(this.signUpForm.value).pipe((0,d.b)(t=>{})).subscribe({error:({})=>{this.signUpForm.enable()}})}_initForm(){this.login?this.loginForm=this.formBuilder.group({email:["",[o.kI.required,this.vs.validatePat("emailPat")]],password:["",[o.kI.required,this.vs.validatePat("passwordPat")]]}):this.signUpForm=this.formBuilder.group({name:["",[o.kI.required,this.vs.validatePat("namePat")]],lastName:["",[o.kI.required,this.vs.validatePat("namePat")]],email:["",[o.kI.required,this.vs.validatePat("emailPat")]],phone:["",[o.kI.required,this.vs.validatePat("phone")]],password:["",[o.kI.required,this.vs.validatePat("passwordPat")]],password2:["",[o.kI.required]],terms:[!1,[o.kI.required,o.kI.requiredTrue]]},{validators:[this.vs.passwordMismatch("password","password2")]})}errorMsg(t){return this.errorH.errorMsg(this.login?this.loginForm.controls[t]:this.signUpForm.controls[t])}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(a.F0),e.Y36(o.qu),e.Y36(c.ri),e.Y36(g.yh),e.Y36(m.q_),e.Y36(m.S9))},r.\u0275cmp=e.Xpm({type:r,selectors:[["frontend-auth-view"]],decls:7,vars:2,consts:[[1,"auth-container"],[1,"auth-in"],[1,"auth-logo"],["src","assets/img/logo-header.svg","alt","","routerLink","/app/books",1,"logo"],["class","auth-card",4,"ngIf","ngIfElse"],["signup",""],[1,"auth-card"],[1,"auth-alert"],["autocomplete","off",1,"",3,"formGroup"],[1,"input-label"],[1,"label"],["placeholder","robin@boook.com","formControlName","email","type","text",1,"form-control"],[3,"errorMsg"],["type","password","placeholder","*********","formControlName","password",1,"form-control"],[1,"d-flex","justify-content-between","m-2"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],["routerLink","/app/terms"],[1,"row","mb-3","mt-3"],[1,"col-md-12","col-sm-12","col-xs-12","text-center"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled","click"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"d-flex","justify-content-evenly"],["routerLink","/auth/signup"],["autocomplete","off",3,"formGroup"],["placeholder","Robin","formControlName","name","type","text",1,"form-control"],["type","text","placeholder","Boook","formControlName","lastName",1,"form-control"],["type","number","placeholder","(111) 111-1111","formControlName","phone",1,"form-control"],["type","password","placeholder","********","formControlName","password",1,"form-control"],["type","password","placeholder","********","formControlName","password2",1,"form-control"],[1,"form-check","m-2"],["type","checkbox","formControlName","terms","value","","id","flexCheckDefault",1,"form-check-input"],["href",""],[1,"row","mb-5"],[1,"text-xs","text-muted","me-3"],["routerLink","/auth"],[1,"text-xs","text-primary","fw-bold"]],template:function(t,l){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e._UZ(3,"img",3),e.qZA(),e.YNc(4,v,33,4,"div",4),e.qZA()(),e.YNc(5,Z,54,8,"ng-template",null,5,e.W1O)),2&t){const s=e.MAs(6);e.xp6(4),e.Q6J("ngIf",l.loginForm)("ngIfElse",s)}},dependencies:[p.O5,a.rH,f,o._Y,o.Fj,o.wV,o.Wl,o.JJ,o.JL,o.sg,o.u],encapsulation:2}),r})();const A=[{path:"",component:h},{path:"signup",component:h}];let U=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[p.ez,a.Bz.forChild(A),m.As,o.u5,o.UX]}),r})()}}]);